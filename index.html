<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Life Expectancy Drivers</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

  :root {
    --bg-main: #111827;
    --bg-panel: #1f2937;
    --border: #374151;
    --text-primary: #f3f4f6;
    --text-secondary: #9ca3af;
    --accent: #3b82f6;
    --accent-hover: #60a5fa;
    --factor-hover-bg: rgba(59, 130, 246, 0.15);
  }

  * { box-sizing: border-box; }

  body {
    margin: 0;
    font-family: 'Inter', sans-serif;
    background: var(--bg-main);
    color: var(--text-primary);
  }

  /* ===== HEADER ===== */
  #page-header {
    width: 100%;
    padding: 18px 28px;
    background: var(--bg-panel);
    border-bottom: 1px solid var(--border);
  }

  #page-header h1 {
    margin: 0 0 6px;
    font-size: 22px;
    font-weight: 600;
  }

  #page-header p {
    margin: 0;
    max-width: 1150px;
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.45;
  }

  /* ===== MAIN LAYOUT ===== */
  #container {
    display: flex;
    height: calc(100vh - 90px);
    width: 100%;
  }

  #sidebar-left,
  #sidebar-right {
    width: 25%;
    overflow-y: auto;
    padding: 18px;
    background: var(--bg-panel);
    border-right: 1px solid var(--border);
    font-size: 14px;
  }

  #sidebar-right {
    border-right: none;
    border-left: 1px solid var(--border);
  }

  #sidebar-left h2,
  #sidebar-right h2 {
    margin-top: 0;
    font-size: 17px;
    font-weight: 600;
  }

  .hint {
    font-size: 12.5px;
    color: var(--text-secondary);
    margin-bottom: 12px;
    line-height: 1.35;
  }

  /* ===== FACTORS ===== */
  .bucket { margin-bottom: 16px; }

  .bucket h3 {
    margin: 14px 0 8px;
    font-size: 15px;
    font-weight: 600;
    color: var(--text-primary);
  }

  .factor {
    padding: 5px 0;
    cursor: pointer;
    font-size: 14px;
    color: var(--text-secondary);
    border-radius: 4px;
    transition: all 0.15s ease;
  }

  .factor:hover {
    background: var(--factor-hover-bg);
    color: var(--accent-hover);
    padding-left: 4px;
  }

  /* ===== MAP ===== */
  #map {
    flex: 1;
    height: 100%;
    background: var(--bg-main);
  }

  /* ===== RIGHT DETAILS ===== */
  #county-details {
    margin-top: 10px;
    font-size: 14px;
    line-height: 1.45;
  }

  #county-details ol {
    padding-left: 20px;
    margin-top: 4px;
  }

  b { font-weight: 600; }
</style>


</head>
<body>

  <!-- HEADER -->
  <div id="page-header">
    <h1>Page Description</h1>
    <p>
      Hi and welcome to my page! This page helps you visualize the factors that influence life expectancy across various US counties. The values obtained for these visualizatio was through a linear regression model. 
      The counties considered for this visualization are the ones for which the average mean error was <=1 years which were about half
      the counties (~ 1500 out of 3000). There are two features - feature 1 helps you narrow down on counties based on a specific
      contributing factor and feature 2 helps you visualize the factors contributing to a particular county.
    </p>
  </div>

  <!-- MAIN LAYOUT -->
  <div id="container">

    <!-- LEFT SIDEBAR -->
    <div id="sidebar-left">
      <h2>Feature 1: Factor wise county visualization</h2>
      <p class="hint">
        These are variables that show up as a top contributor for at least one U.S. county.<br>
        Click a factor to highlight where it matters.
      </p>

      <div class="bucket" id="bucket-environmental">
        <h3>Environmental</h3>
        <div class="factor-list"></div>
      </div>

      <div class="bucket" id="bucket-health">
        <h3>Health</h3>
        <div class="factor-list"></div>
      </div>

      <div class="bucket" id="bucket-income">
        <h3>Income & Socioeconomic</h3>
        <div class="factor-list"></div>
      </div>

      <div class="bucket" id="bucket-demo">
        <h3>Demographics</h3>
        <div class="factor-list"></div>
      </div>

      <div class="bucket" id="bucket-other">
        <h3>Other</h3>
        <div class="factor-list"></div>
      </div>
    </div>

    <!-- MAP SECTION -->
    <div id="map"></div>

    <!-- RIGHT SIDEBAR -->
    <div id="sidebar-right">
      <h2 id="county-title">Feature 2: County wise results</h2>
      <p id="county-intro">
        Click a county to see the top factors contributing to it. The value in the bracket is the contrbution of that factors in the overall regression equation.
      </p>
      <div id="county-details"></div>
    </div>

  </div>

  <!-- SCRIPTS AT END -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="script.js?v=12"></script>

</body>
</html>





